<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.General API specification | AllPay</title>
    <meta name="description" content="api docs">
    <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/assets/css/0.styles.137b8c9d.css" as="style"><link rel="preload" href="/assets/js/app.4473d9ad.js" as="script"><link rel="preload" href="/assets/js/41.c1e76263.js" as="script"><link rel="prefetch" href="/assets/js/31.7b7eb47f.js"><link rel="prefetch" href="/assets/js/1.fa46ff31.js"><link rel="prefetch" href="/assets/js/2.00cee647.js"><link rel="prefetch" href="/assets/js/3.a874677e.js"><link rel="prefetch" href="/assets/js/4.fe9f387b.js"><link rel="prefetch" href="/assets/js/5.c843232e.js"><link rel="prefetch" href="/assets/js/6.272a8da6.js"><link rel="prefetch" href="/assets/js/7.013685a3.js"><link rel="prefetch" href="/assets/js/8.e146673b.js"><link rel="prefetch" href="/assets/js/9.ade44636.js"><link rel="prefetch" href="/assets/js/10.e61076d8.js"><link rel="prefetch" href="/assets/js/11.c769ac06.js"><link rel="prefetch" href="/assets/js/12.4b124427.js"><link rel="prefetch" href="/assets/js/13.cec68716.js"><link rel="prefetch" href="/assets/js/14.10ad1571.js"><link rel="prefetch" href="/assets/js/15.7418e9db.js"><link rel="prefetch" href="/assets/js/16.8e1bed48.js"><link rel="prefetch" href="/assets/js/17.8da90231.js"><link rel="prefetch" href="/assets/js/18.17cf7b64.js"><link rel="prefetch" href="/assets/js/19.bfeb7c09.js"><link rel="prefetch" href="/assets/js/20.1637ddb6.js"><link rel="prefetch" href="/assets/js/21.b4514448.js"><link rel="prefetch" href="/assets/js/22.cf8266ad.js"><link rel="prefetch" href="/assets/js/23.0e430600.js"><link rel="prefetch" href="/assets/js/24.ab2b400e.js"><link rel="prefetch" href="/assets/js/25.8da59fb3.js"><link rel="prefetch" href="/assets/js/26.e6a7f109.js"><link rel="prefetch" href="/assets/js/27.7b8b8de6.js"><link rel="prefetch" href="/assets/js/28.19dbe553.js"><link rel="prefetch" href="/assets/js/29.7e9d5cbc.js"><link rel="prefetch" href="/assets/js/30.84209f14.js"><link rel="prefetch" href="/assets/js/32.28818f0d.js"><link rel="prefetch" href="/assets/js/33.84bc8b8e.js"><link rel="prefetch" href="/assets/js/34.a101f0fe.js"><link rel="prefetch" href="/assets/js/35.889c6874.js"><link rel="prefetch" href="/assets/js/36.142762a4.js"><link rel="prefetch" href="/assets/js/37.6a404c7e.js"><link rel="prefetch" href="/assets/js/38.d2db14e5.js"><link rel="prefetch" href="/assets/js/39.6aed9d6d.js"><link rel="prefetch" href="/assets/js/40.d5cb7913.js"><link rel="prefetch" href="/assets/js/42.5f6613b6.js"><link rel="prefetch" href="/assets/js/43.58324160.js"><link rel="prefetch" href="/assets/js/44.5058f23c.js"><link rel="prefetch" href="/assets/js/45.6a235823.js"><link rel="prefetch" href="/assets/js/46.92122040.js"><link rel="prefetch" href="/assets/js/47.c90961d1.js"><link rel="prefetch" href="/assets/js/48.687eb6ab.js"><link rel="prefetch" href="/assets/js/49.60e57e51.js"><link rel="prefetch" href="/assets/js/50.d0e7e63d.js"><link rel="prefetch" href="/assets/js/51.9a831c9a.js"><link rel="prefetch" href="/assets/js/52.bb73e4ca.js"><link rel="prefetch" href="/assets/js/53.c6008a0a.js"><link rel="prefetch" href="/assets/js/54.2578167c.js"><link rel="prefetch" href="/assets/js/55.0cd5ace7.js"><link rel="prefetch" href="/assets/js/56.79ac1c50.js"><link rel="prefetch" href="/assets/js/57.6ddd15dc.js"><link rel="prefetch" href="/assets/js/58.876731f5.js"><link rel="prefetch" href="/assets/js/59.871d0eb7.js"><link rel="prefetch" href="/assets/js/60.5ac7ae1d.js"><link rel="prefetch" href="/assets/js/61.ba153889.js"><link rel="prefetch" href="/assets/js/62.94ca593f.js"><link rel="prefetch" href="/assets/js/63.51a89084.js">
    <link rel="stylesheet" href="/assets/css/0.styles.137b8c9d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      AllPay
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/pc/" class="nav-link router-link-active">PC Web</a></div><div class="nav-item"><a href="/android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/ios/" class="nav-link">IOS</a></div><div class="nav-item"><a href="/h5/" class="nav-link">HTML5</a></div><div class="nav-item"><a href="/cart/" class="nav-link">ShoppingCart plug-in</a></div><div class="nav-item"><a href="/wx/" class="nav-link">WechatMiniProgram</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/pc/3.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----><a href="/zh/pc/3.html" class="nav-link">简体中文</a></li></ul></div></div><a href="https://github.com/allpayx/allpayx.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pc/" class="nav-link router-link-active">PC Web</a></div><div class="nav-item"><a href="/android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/ios/" class="nav-link">IOS</a></div><div class="nav-item"><a href="/h5/" class="nav-link">HTML5</a></div><div class="nav-item"><a href="/cart/" class="nav-link">ShoppingCart plug-in</a></div><div class="nav-item"><a href="/wx/" class="nav-link">WechatMiniProgram</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/pc/3.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----><a href="/zh/pc/3.html" class="nav-link">简体中文</a></li></ul></div></div><a href="https://github.com/allpayx/allpayx.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>PC</span><!----></p><ul class="sidebar-group-items"><li><a href="/pc/" class="sidebar-link">PC Web Integration Specification V4.2.1</a></li><li><a href="/pc/1.html" class="sidebar-link">1.Overview</a></li><li><a href="/pc/2.html" class="sidebar-link">2.Transaction process</a></li><li><a href="/pc/3.html" class="active sidebar-link">3.General API specification</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pc/3.html#_3-1-description-of-verifying-the-signature" class="sidebar-link">3.1. Description of verifying the signature</a></li><li class="sidebar-sub-header"><a href="/pc/3.html#_3-2-general-api-access-address" class="sidebar-link">3.2. General API access address</a></li><li class="sidebar-sub-header"><a href="/pc/3.html#_3-3-purchase-interface" class="sidebar-link">3.3. Purchase interface</a></li><li class="sidebar-sub-header"><a href="/pc/3.html#_3-4-inqiury-interface" class="sidebar-link">3.4. Inqiury interface</a></li><li class="sidebar-sub-header"><a href="/pc/3.html#_3-5-refund-interface" class="sidebar-link">3.5. Refund interface</a></li></ul></li><li><a href="/pc/4.html" class="sidebar-link">4.Channel exclusive allocation</a></li><li><a href="/pc/5.html" class="sidebar-link">5.Test account</a></li><li><a href="/pc/6.html" class="sidebar-link">6. error code </a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="_3-general-api-specification"><a href="#_3-general-api-specification" aria-hidden="true" class="header-anchor">#</a> 3.General API specification</h1><p>Common interface between merchant server and AllPay gateway, each channel has functions including: Purchase, Refund, Inqiury interface.</p><h2 id="_3-1-description-of-verifying-the-signature"><a href="#_3-1-description-of-verifying-the-signature" aria-hidden="true" class="header-anchor">#</a> 3.1. Description of verifying the signature</h2><p>1.For a POST request message sent to the ALLPAY system, in which all incoming parameters (except signature parameters) according to the field name of ASCII smallest sequence (dictionary), using the format of the URL key/value pair (key1 = value1 &amp; key2 = value2... ) spliced into a string String1.</p><p>2.At the end of String1, the signature key K1(assigned at ALLPAY upon access) agreed by both parties is spliced directly (no need to connect with &quot;&amp;&quot;), resulting in a stringSignTemp string, and an md5 operation on stringSignTemp to get the value of signature.</p><p>3.Sample signature string:</p><div class="language-js extra-class"><pre class="language-js"><code>acqID<span class="token operator">=</span><span class="token number">99020344</span><span class="token operator">&amp;</span>backURL<span class="token operator">=</span>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">&amp;</span>charSet<span class="token operator">=</span><span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">&amp;</span>frontURL<span class="token operator">=</span>nil<span class="token operator">&amp;</span>goodsInfo<span class="token operator">=</span>iPhone x<span class="token operator">&amp;</span>merID<span class="token operator">=</span><span class="token number">800039253992510</span><span class="token operator">&amp;</span>merReserve<span class="token operator">=</span><span class="token operator">&amp;</span>orderAmount<span class="token operator">=</span><span class="token number">1.00</span><span class="token operator">&amp;</span>orderCurrency<span class="token operator">=</span><span class="token constant">INR</span><span class="token operator">&amp;</span>orderNum<span class="token operator">=</span>ap0180417163142<span class="token operator">&amp;</span>paymentSchema<span class="token operator">=</span><span class="token constant">EB</span><span class="token operator">&amp;</span>signType<span class="token operator">=</span><span class="token constant">MD5</span><span class="token operator">&amp;</span>transTime<span class="token operator">=</span><span class="token number">20180417163142</span><span class="token operator">&amp;</span>transType<span class="token operator">=</span><span class="token constant">PURC</span><span class="token operator">&amp;</span>trxn_email_id<span class="token operator">=</span>benson<span class="token punctuation">.</span>zhang@allpayx<span class="token punctuation">.</span>com<span class="token operator">&amp;</span>trxn_firstname<span class="token operator">=</span>benson zhang<span class="token operator">&amp;</span>trxn_is_coupon_enabled<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>trxn_phone<span class="token operator">=</span><span class="token number">15026528888</span><span class="token operator">&amp;</span>unique_id<span class="token operator">=</span>abcde12345<span class="token operator">&amp;</span>version<span class="token operator">=</span>VER000000002f3e0e436cd24430aa4aaaed597450f26
</code></pre></div><h2 id="_3-2-general-api-access-address"><a href="#_3-2-general-api-access-address" aria-hidden="true" class="header-anchor">#</a> 3.2. General API access address</h2><table><thead><tr><th>Transaction Type</th><th>Test Address</th><th>Production Address</th></tr></thead><tbody><tr><td>Purchase</td><td><a href="https://testapi.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://testapi.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td><td><a href="https://api.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://api.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>Inqiury</td><td><a href="https://testapi.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://testapi.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td><td><a href="https://api.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://api.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>Refund</td><td><a href="https://testapi.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://testapi.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td><td><a href="https://api.allpayx.com/pay/v1" target="_blank" rel="noopener noreferrer">https://api.allpayx.com/pay/v1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table><h2 id="_3-3-purchase-interface"><a href="#_3-3-purchase-interface" aria-hidden="true" class="header-anchor">#</a> 3.3. Purchase interface</h2><ol><li>Request message format</li></ol><p>This field is a list of common fields, sending, every channel needs some channel channel exclusive field, specific fields please go to the channel's exclusive canal to the fields that view. Consumer interface is divided into jump transformation and parameters return type, default to jump transformation, parameters return type will be explained in chapter 4 channels (exclusive) inside.</p><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter Name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;PURC&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Order Amount</td><td>12</td><td>Text</td><td>orderAmount</td><td>100 is displayed as 100 or 100.00</td></tr><tr><td>6</td><td>Order Currency</td><td>3</td><td>Text</td><td>orderCurrency</td><td>Fill in &quot;CNY&quot; in RMB and &quot;USD&quot; in USD</td></tr><tr><td>7</td><td>Frontend URL Address</td><td>400</td><td>Text</td><td>frontURL</td><td>Payment results are notified to this address front</td></tr><tr><td>8</td><td>Backend URL Address</td><td>400</td><td>Text</td><td>backURL</td><td>Payment results are notified to this address asynchronously</td></tr><tr><td>9</td><td>Merchant Reserved</td><td>1024</td><td>Text</td><td>merReserve</td><td>Merchant reserved content, can pass any content, such as purchase information, account number, etc., but do not pass special symbols, such as commas.</td></tr><tr><td>10</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>11</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>12</td><td>Payment Channel Code</td><td>10</td><td>Text</td><td>paymentSchema</td><td>Payment Channel Code：<a href="https://git.allpayx.com/OpenAPI/b2c/src/master/pc_api/paymentSchema.md" target="_blank" rel="noopener noreferrer">Click here for details<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>13</td><td>Goods Information</td><td>60</td><td>Text</td><td>goodsInfo</td><td>Goods Information</td></tr><tr><td>14</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>15</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>16</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table><ol start="2"><li><p>Jump transformation Purchase interface response message</p><p>The merchant needs to provide an HTTP/HTTPS protocol interface that is included in the parameters passed to the SDK, the backURL. After the payment is complete, the AllPay server will call the backURL as a Get, informing the payment result.</p></li></ol><p>The parameters are as follows:</p><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;PURC&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Order Amount</td><td>12</td><td>Text</td><td>orderAmount</td><td>100 is displayed as 100 or 100.00</td></tr><tr><td>6</td><td>Order Currency</td><td>3</td><td>Text</td><td>orderCurrency</td><td>Fill in &quot;CNY&quot; in RMB and &quot;USD&quot; in USD</td></tr><tr><td>7</td><td>Settlement Amount</td><td>12</td><td>Text</td><td>settAmount</td><td>100 is displayed as 100 or 100.00</td></tr><tr><td>8</td><td>Settlement Currency</td><td>3</td><td>Text</td><td>settCurrency</td><td>Comply with ISO standards and fill in the number type</td></tr><tr><td>9</td><td>Settlement FX Rate</td><td>7</td><td>Text</td><td>rate</td><td>Real exchange rate, 7 digits</td></tr><tr><td>10</td><td>Merchant Reserved</td><td>1024</td><td>Text</td><td>merReserve</td><td>Merchant reserved content, can pass any content, such as purchase information, account number, etc., but do not pass special symbols, such as commas.</td></tr><tr><td>11</td><td>Gateway Transaction ID</td><td>32</td><td>Text</td><td>transID</td><td>The unique transaction id generated by the gateway.</td></tr><tr><td>12</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>13</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>14</td><td>Payment Channel Code</td><td>10</td><td>Text</td><td>paymentSchema</td><td>Payment Channel Code：<a href="https://git.allpayx.com/OpenAPI/b2c_pc_payment/src/master/paymentSchema.md" target="_blank" rel="noopener noreferrer">Click here for details<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>15</td><td>Response Code</td><td>2</td><td>Text</td><td>RespCode</td><td>00 stands for success; 01 stands for fail.</td></tr><tr><td>16</td><td>Response Message</td><td>20</td><td>Text</td><td>RespMsg</td><td>Response message, all English characters</td></tr><tr><td>17</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>18</td><td>Gateway process time</td><td>14</td><td>Text</td><td>GWTime</td><td>YYYYMMDDHHMMSS this should be a GWtime, currently is local transaction time</td></tr><tr><td>19</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>20</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table><h2 id="_3-4-inqiury-interface"><a href="#_3-4-inqiury-interface" aria-hidden="true" class="header-anchor">#</a> 3.4. Inqiury interface</h2><ol><li>Interface specification</li></ol><p>This interface provides the function of inqiury transaction for access merchants.</p><ol start="2"><li>Request message format</li></ol><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;INQY&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Merchant Reserved</td><td>1024</td><td>Text</td><td>merReserve</td><td>Merchant reserved content</td></tr><tr><td>6</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>7</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>8</td><td>Payment Channel Code</td><td>10</td><td>Text</td><td>paymentSchema</td><td>Payment Channel Code：<a href="https://git.allpayx.com/OpenAPI/b2c_pc_payment/src/master/paymentSchema.md" target="_blank" rel="noopener noreferrer">Click here for details<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>9</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>10</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>11</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table><ol start="3"><li>Response message format</li></ol><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;INQY&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Gateway Transaction ID</td><td>32</td><td>Text</td><td>transID</td><td>The unique transaction id generated by the gateway.</td></tr><tr><td>6</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>7</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>8</td><td>Response Code</td><td>2</td><td>Text</td><td>RespCode</td><td>00 stands for success; 01 stands for fail.</td></tr><tr><td>9</td><td>Response Message</td><td>20</td><td>Text</td><td>RespMsg</td><td>Response message, all English characters</td></tr><tr><td>10</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>11</td><td>Gateway process time</td><td>14</td><td>Text</td><td>GWTime</td><td>YYYYMMDDHHMMSS this should be a GWtime, currently is local transaction time</td></tr><tr><td>12</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>13</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table><h2 id="_3-5-refund-interface"><a href="#_3-5-refund-interface" aria-hidden="true" class="header-anchor">#</a> 3.5. Refund interface</h2><p>1.Interface specification</p><p>This interface provides the function of refund transaction for access merchants.</p><p>2.Request message format</p><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;REFD&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Return Amount</td><td>12</td><td>Text</td><td>returnAmount</td><td>100 is displayed as 100 or 100.00</td></tr><tr><td>6</td><td>Order Currency</td><td>3</td><td>Text</td><td>orderCurrency</td><td>Fill in &quot;CNY&quot; in RMB and &quot;USD&quot; in USD</td></tr><tr><td>7</td><td>Merchant Reserved</td><td>1024</td><td>Text</td><td>merReserve</td><td>Merchant reserved content, can pass any content, such as purchase information, account number, etc., but do not pass special symbols, such as commas.</td></tr><tr><td>8</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>9</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>10</td><td>Payment Channel Code</td><td>10</td><td>Text</td><td>paymentSchema</td><td>Payment Channel Code：<a href="https://git.allpayx.com/OpenAPI/b2c_pc_payment/src/master/paymentSchema.md" target="_blank" rel="noopener noreferrer">Click here for details<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr><tr><td>11</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>12</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>13</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table><p>3.Response message format</p><table><thead><tr><th>No.</th><th>Field Name</th><th>Max.Length</th><th>Type</th><th>Parameter name</th><th>Comment</th></tr></thead><tbody><tr><td>1</td><td>Message Version</td><td>12</td><td>Text</td><td>version</td><td>&quot;VER000000002&quot;</td></tr><tr><td>2</td><td>Character set coding</td><td>6</td><td>Text</td><td>charSet</td><td>&quot;UTF-8&quot;</td></tr><tr><td>3</td><td>Transaction type</td><td>4</td><td>Text</td><td>transType</td><td>&quot;REFD&quot;</td></tr><tr><td>4</td><td>Order Number</td><td>60</td><td>Text</td><td>orderNum</td><td>The merchant shall define it by itself, and the order number of the same merchant number shall not be repeated</td></tr><tr><td>5</td><td>Gateway Transaction ID</td><td>32</td><td>Text</td><td>transID</td><td>The unique transaction id generated by the gateway.</td></tr><tr><td>6</td><td>Merchant ID</td><td>15</td><td>Text</td><td>merID</td><td>Merchant ID, assigned by AllPay</td></tr><tr><td>7</td><td>Acquirer ID</td><td>11</td><td>Text</td><td>acqID</td><td>&quot;99020344&quot;</td></tr><tr><td>8</td><td>Response Code</td><td>2</td><td>Text</td><td>RespCode</td><td>00 stands for success; 01 stands for fail.</td></tr><tr><td>9</td><td>Response Message</td><td>20</td><td>Text</td><td>RespMsg</td><td>Response message, all English characters</td></tr><tr><td>10</td><td>Transaction Time</td><td>14</td><td>Text</td><td>transTime</td><td>Transaction time, format :&quot; yyymmddhhmmss&quot;</td></tr><tr><td>11</td><td>Gateway process time</td><td>14</td><td>Text</td><td>GWTime</td><td>YYYYMMDDHHMMSS this should be a GWtime, currently is local transaction time</td></tr><tr><td>12</td><td>Signature Type</td><td>3</td><td>Text</td><td>signType</td><td>MD5</td></tr><tr><td>13</td><td>Signature Data</td><td>32</td><td>Text</td><td>signature</td><td>MD5 signature</td></tr></tbody></table></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/allpayx/allpayx.github.io/edit/master/docs/pc/3.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">7/16/2018, 3:22:02 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/pc/2.html" class="prev">
          2.Transaction process
        </a></span><span class="next"><a href="/pc/4.html">
          4.Channel exclusive allocation
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/41.c1e76263.js" defer></script><script src="/assets/js/app.4473d9ad.js" defer></script>
  </body>
</html>
